# PLONKish 算法

halo2 使用的运算方法 来自于 [PLONK](https://eprint.iacr.org/2019/953), 
或者更准确地说，它的扩展UltraPLONK支持自定义门和查找arguments.
我们称之为 [***PLONKish***](https://twitter.com/feministPLT/status/1413815927704014850).

***PLONKish电路***是用矩形矩阵值定义的. 
我们称呼矩阵的***行***，***列***，***单元格*** 用常规的称呼。

PLONKish电路依赖***配置*** 

* 一个有限域$\mathbb{F}$，其中单元格的值(对于给定的statement和witness)将是$\mathbb{F}$的元素.


* 矩阵中列的数量, 以及每个列的参数是***固定***、***通知***还是***实例***.
  固定列是固定在电路中的. 通知列和witness 值一致. 实例列通常用于公开输入(
  确切来说, 它们可以用于prover和verifier之间共享的任何元素).



* 可以参与相等约束的列的子集。


* 多项式次数约束

* 一个***多项式约束***的序列. 这是在 $\mathbb{F}$ 上的*每行*必须为0的多元多项式.
  多项式约束中的变量可以指当前行的给定列中的单元格,也可以指与这行(即取模n)相关的另一行的给定列
  每个多项式的最高次由这个多项式次数给出.

* 一个***查找 arguments***在***输入表达式***(多元多项式)的元组和表列上定义

PLONKish电路还定义:

* 矩阵的行数为 $n$. $n$ 必须对应于 $\mathbb{F}^\times$ 的可乘子群的大小;通常是 2的幂次方.

* 一个由***相等约束***组成的数组，数组中指定两个给定单元格必须具有相等的值

* 每行中固定列的值

从电路描述中我们可以生成 电路的证明和验证操作所需要的 一个 ***证明key*** 和 一个 ***验证key***

> 请注意，我们指定了列的顺序、多项式约束、查找参数和等式约束，即使这些并不影响电路的含义。
> 这使得将证明和验证密钥的生成定义为确定性过程变得更加容易。

通常，配置将定义多项式约束，这些约束由定义在固定列中的***选择器***关闭和开启。
例如，约束 $q_i \cdot p(...) = 0$ 可以通过在第i行设置$q_i = 0$来关闭。
在这种情况下，我们有时引用一组由一组选择器列控制的约束，这些选择器列被设计为一起使用，就像一个***gate***。
通常会有一个标准门， 它支持像字段乘法和除法这样的通用操作，也可能有一个支持更专用操作的自定义门.
